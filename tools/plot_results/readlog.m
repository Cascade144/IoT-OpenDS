function [out, A, N] = readlog(filename)

    num_entries = 15;
    
    % read, skip first 4 lines
    f = fopen(filename);
    fgetl(f);
    fgetl(f);
    fgetl(f);
    fgetl(f);
    A = fscanf(f, '%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f,%f\n');
    fclose(f);
    
    % save results
    N = numel(A) / num_entries;
    A = reshape(A, num_entries, N)';
    A(:,1) = (A(:,1) - A(1,1)) * 1e-3; % let time begin at 0, convert to seconds
    out = struct( ...
        'time', A(:,1), ...
        'cognitive_load', A(:,2), ...
        'road_type', A(:,3), ...
        'speed', A(:,4), ...
        'hitpoints', A(:,5), ...
        'box_hits', A(:,6), ...
        'pedestrian_hits', A(:,7), ...
        'non_scene_objects', A(:,8), ...
        'num_distractors', A(:,9), ...
        'box_distraction', A(:,10), ...
        'collect_distraction', A(:,11), ...
        'dark_distraction', A(:,12), ...
        'pedestrian_distraction', A(:,13), ...
        'sound_distraction', A(:,14), ...
        'text_distraction', A(:,15));

end

